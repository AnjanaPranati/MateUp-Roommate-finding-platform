const { get } = require('npm/node_modules/pacote/lib/fetcher.js')
const GitFetcher = require('npm/node_modules/pacote/lib/git.js')
const RegistryFetcher = require('npm/node_modules/pacote/lib/registry.js')
const FileFetcher = require('npm/node_modules/pacote/lib/file.js')
const DirFetcher = require('npm/node_modules/pacote/lib/dir.js')
const RemoteFetcher = require('npm/node_modules/pacote/lib/remote.js')

const tarball = (spec, opts) => get(spec, opts).tarball()
tarball.stream = (spec, handler, opts) => get(spec, opts).tarballStream(handler)
tarball.file = (spec, dest, opts) => get(spec, opts).tarballFile(dest)

module.exports = {
  GitFetcher,
  RegistryFetcher,
  FileFetcher,
  DirFetcher,
  RemoteFetcher,
  resolve: (spec, opts) => get(spec, opts).resolve(),
  extract: (spec, dest, opts) => get(spec, opts).extract(dest),
  manifest: (spec, opts) => get(spec, opts).manifest(),
  packument: (spec, opts) => get(spec, opts).packument(),
  tarball,
}
